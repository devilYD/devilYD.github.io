---
layout:         post
title:          JavaWeb简介
subtitle:       一些基础的概念
date:           2022-10-12
auther:         YD
header-img:     img/YD-rainingnight.jpg
catalog:            true
tags:
        - JAVA
        - 笔记

---

# JavaWeb简介

## 什么是JavaWeb

* Web：全球广域网，也称万维网(www)，能够通过浏览器访问网站
* JavaWeb：使用Java技术来解决web互联网领域的技术栈

简单点说，就是用Java写网站。

## JavaWeb技术栈

* B/S架构：Browser/Server，浏览器/服务器架构模式，它的特点是，客户端只要浏览器，应用程序的逻辑和数据都存储在服务端。浏览器只需要请求服务器，获取Web资源，服务器把Web资源发送给浏览器即可。
  * 好处：易于维护升级，服务端升级后，客户端无需任何部署就可以使用到新的版本。
  * 静态资源：HTML、CSS、JavaScript、图片等，负责页面展示
  * 动态资源：Servlet、JSP等，负责逻辑处理
  * 数据库：负责存储数据
  * HTTP协议：浏览器与服务器的通信规则
  * Web服务器：负责解析HTTP协议，解析请求数据并发送响应数据

## 关于HTTP

概念：Hyper Text Transfer Protocol，超文本传输协议，规定了浏览器和服务器之间数据传输的规则。

浏览器发送请求，服务器响应。

特点：
* 基于TCP协议：面向连接，安全(每次请求前需要进行三次握手的连接，不容易丢数据包)
* 基于请求-响应模型的：一次请求对应一次响应
* HTTP协议是无状态的协议：对于事物处理没有记忆能力。每次请求-响应都是独立的。
  * 缺点：多次请求间不能共享数据
  * 优点：速度快

### 请求数据的格式

1. 请求行：请求数据的第一行。其中第一个词是请求方式，`/`表示请求资源路径，`HTTP/1.1`表示协议的版本
2. 请求头：第二行开始，格式为`key: value`形式
3. 请求体：POST请求的最后一部分，存放请求参数

请求体和请求头中间有一行空行隔开

常见的HTTP请求头：
* Host：表示请求的主机名
* User-Agent：浏览器版本，例如Chrome浏览器的标识类似Mozilla/5.0...Chrome/79，IE浏览器的标识类似Mozilla/5.0(Windows NT ...)like Gecko;
* Accept：表示浏览器能接收的资源类型，如text/*，image/*或者*/*表示所有
* Accept-Language：表示浏览器偏好语言，服务器可以据此返回不同语言的网页
* Accept-Encoding：表示浏览器可以支持的压缩类型，例如gzip，deflate等。

GET请求和POST请求区别：
1. GET请求请求参数在请求行中，没有请求体，POST请求请求参数在请求体中
2. GET请求参数大小有限制，POST没有

### 响应数据格式

1. 响应行：响应数据的第一行，其中`HTTP/1.1`表示协议版本，数字表示响应状态码，OK表示状态码描述
2. 响应头：第二行开始，格式为`key: value`形式
3. 响应体：最后一部分，存放响应数据

常见的HTTP响应头：
* Content-Type：表示响应内容的类型，例如text/html,image/jpeg
* Content-Length：表示相应内容的长度（字节数）
* Content-Encoding：表示该响应压缩算法，例如gzip
* Cache-Control：指示客户端应该如何缓存，例如`max-age=300`表示最多可以缓存300秒

响应状态码分类：
* 1xx：响应中--临时状态码，表示请求已经接受，告诉客户端应该继续请求或者如果它已经完成请忽略它
* 2xx：成功--表示请求已经被成功接收，处理已完成
* 3xx：重定向--重定向到其他地方：它让客户端再发起一个请求以完成整个处理。
* 4xx：客户端错误--处理发生错误，责任在客户端，如：客户端请求一个不存在的资源，客户端未被授权，禁止访问等
* 5xx：服务器端错误--处理发生错误，责任在服务器，如：服务端抛出异常，路由出错，HTTP版本不支持等

常见的响应状态码如下：

|状态码|英文描述|解释|
|---|---|---|
|100|Continue|继续。客户端应继续其请求|
|101|Switching Protocols|切换协议。服务器根据客户端的请求切换协议。只能切换到更高级的协议，例如，切换到HTTP的新版本协议|
|200|OK|请求成功。一般用于GET与POST请求|
|201|Created|已创建。成功请求并创建了新的资源|
|202|Accepted|已接受。已经接受请求，但未处理完成|
|203|Non-Authoritative Information|非授权信息。请求成功。但返回的meta信息不在原始的服务器，而是一个副本|
|204|No Content|无内容。服务器成功处理，但未返回内容。在未更新网页的情况下，可确保浏览器继续显示当前文档|
|205|Reset Content|重置内容。服务器处理成功，用户终端（例如：浏览器）应重置文档视图。可通过此返回码清除浏览器的表单域|
|206|Partial Content|部分内容。服务器成功处理了部分GET请求|
|300|Multiple Choices|多种选择。请求的资源可包括多个位置，相应可返回一个资源特征与地址的列表用于用户终端（例如：浏览器）选择|
|301|Moved Permanently|永久移动。请求的资源已被永久的移动到新URI，返回信息会包括新的URI，浏览器会自动定向到新URI。今后任何新的请求都应使用新的URI代替|
|302|Found|临时移动。与301类似。但资源只是临时被移动。客户端应继续使用原有URI|
|303|See Other|查看其它地址。与301类似。使用GET和POST请求查看|
|304|Not Modified|未修改。所请求的资源未修改，服务器返回此状态码时，不会返回任何资源。客户端通常会缓存访问过的资源，通过提供一个头信息指出客户端希望只返回在指定日期之后修改的资源|
|305|Use Proxy|使用代理。所请求的资源必须通过代理访问|
|306|Unused|已经被废弃的HTTP状态码|
|307|Temporary Redirect|临时重定向。与302类似。使用GET请求重定向|
|400|Bad Request|客户端请求的语法错误，服务器无法理解|
|401|Unauthorized|请求要求用户的身份认证|
|402|Payment Required|保留，将来使用|
|403|Forbidden|服务器理解请求客户端的请求，但是拒绝执行此请求|
|404|Not Found|服务器无法根据客户端的请求找到资源（网页）。通过此代码，网站设计人员可设置"您所请求的资源无法找到"的个性页面|
|405|Method Not Allowed|客户端请求中的方法被禁止|
|406|Not Acceptable|服务器无法根据客户端请求的内容特性完成请求|
|407|Proxy Authentication Required|请求要求代理的身份认证，与401类似，但请求者应当使用代理进行授权|
|408|Request Time-out|服务器等待客户端发送的请求时间过长，超时|
|409|Conflict|服务器完成客户端的 PUT 请求时可能返回此代码，服务器处理请求时发生了冲突|
|410|Gone|客户端请求的资源已经不存在。410不同于404，如果资源以前有现在被永久删除了可使用410代码，网站设计人员可通过301代码指定资源的新位置|
|411|Length Required|服务器无法处理客户端发送的不带Content-Length的请求信息|
|412|Precondition Failed|客户端请求信息的先决条件错误|
|413|Request Entity Too Large|由于请求的实体过大，服务器无法处理，因此拒绝请求。为防止客户端的连续请求，服务器可能会关闭连接。如果只是服务器暂时无法处理，则会包含一个Retry-After的响应信息|
|414|Request-URI Too Large|请求的URI过长（URI通常为网址），服务器无法处理|
|415|Unsupported Media Type|服务器无法处理请求附带的媒体格式|
|416|Requested range not satisfiable|客户端请求的范围无效|
|417|Expectation Failed|服务器无法满足Expect的请求头信息|
|500|Internal Server Error|服务器内部错误，无法完成请求|
|501|Not Implemented|服务器不支持请求的功能，无法完成请求|
|502|Bad Gateway|作为网关或者代理工作的服务器尝试执行请求时，从远程服务器接收到了一个无效的响应|
|503|Service Unavailable|由于超载或系统维护，服务器暂时的无法处理客户端的请求。延时的长度可包含在服务器的Retry-After头信息中|
|504|Gateway Time-out|充当网关或代理的服务器，未及时从远端服务器获取请求|
|505|HTTP Version not supported|服务器不支持请求的HTTP协议的版本，无法完成处理|